{"version":3,"sources":["components/MainLayout/styles.module.less","pages/Order/styles.module.less","pages/AdminPanel/styles.module.less","components/Header/styles.module.less","constants/common.const.js","api/api.js","api/vehiclesApi.js","constants/userRoles.const.js","api/authApi.js","api/controlsApi.js","api/billApi.js","actions/authActions.js","selectors/auth.selector.js","constants/routerPaths.const.js","reducers/ui.reducer.js","constants/modals.const.js","selectors/controls.selector.js","selectors/ui.selectors.js","actions/controlsActions.js","components/SignUpModal/SignUpModal.jsx","utils/utils.js","components/Header/Header.jsx","components/MainLayout/MainLayout.jsx","actions/vehiclesActions.js","selectors/vehicles.selector.js","components/AuthModal/AuthModal.jsx","pages/VehiclesList/VehiclesList.jsx","actions/billActions.js","pages/CurrentCar/CurrentCar.jsx","pages/HistoryRecords/HistoryRecords.jsx","pages/Order/VehicleInfo.jsx","pages/Order/Payments.jsx","pages/Order/TripInformation.jsx","pages/Order/Order.jsx","pages/AdminPanel/helper.js","pages/AdminPanel/VehicleForm.jsx","pages/AdminPanel/AddVehicleModal/AddVehicleModal.jsx","pages/AdminPanel/AdminPanel.jsx","navigation/RouterItem.jsx","navigation/Navigation.jsx","App.js","reducers/vehicles.reducer.js","reducers/auth.reducer.js","reducers/controls.reducer.js","reducers/index.js","store/store.js","serviceWorker.js","index.js"],"names":["module","exports","LS_IS_AUTH_KEY","LS_TOKEN_KEY","BOOKING_STATUSES","Api","this","api","axios","create","baseURL","process","interceptors","request","use","config","token","localStorage","getItem","headers","get","id","dataToUpdate","patch","vehicle","post","USER_ROLES","login","email","password","name","user","signUp","values","roleId","getCurrentUser","billValues","promoCode","bookingStatusId","userId","billId","vehicleId","loginAction","createAsyncThunk","submitData","a","authApi","data","setItem","signUpAction","getCurrentUserAction","logOut","removeItem","getAuthState","state","auth","ROUTER_PATHS","uiSlice","createSlice","initialState","activeModal","modalParams","reducers","showModal","payload","hideModal","setModalParams","clearModalParams","MODALS","getControlsState","controls","getUiState","ui","getGenderControls","controlsApi","getGenderList","getUserCountiesList","getUserCountriesList","getVehiclesStatuses","getVehicleStatuses","getVehicleBrandList","getCarBrandsList","getVehicleGenerationList","getCarGenerationList","getVehicleCountryList","getCarCountries","getBillPayments","Option","layout","labelCol","span","wrapperCol","tailLayout","offset","SignUpModal","dispatch","useDispatch","useSelector","genders","userCountries","isModalVisible","useEffect","handleHide","useCallback","actions","handleSubmit","result","error","message","title","visible","onOk","onCancel","footer","onClick","initialValues","remember","onFinish","Item","label","rules","required","Password","placeholder","map","value","country","type","htmlType","getDateFromString","date","match","replaceAll","HeaderAntd","Header","isAuthorized","history","useHistory","handleMenuClick","handleLogOut","push","handleNavigate","path","handleSignUp","handleSignIn","withoutRedirect","isAdminRole","role","menu","className","styles","appHeader","Title","level","overlay","icon","UserOutlined","style","display","marginRight","MainLayout","children","appLayout","mainSection","getVehiclesList","vehiclesApi","getVehicleById","getVehcileById","updateVehicle","thunkAPI","formValues","updateVehicleById","addVehicle","getVegiclesState","getYouCar","vehicles","AuthModal","Meta","VehiclesList","handleOrderCar","carId","gutter","image","isFree","price","brandName","brand","width","height","cover","alt","src","CheckCircleTwoTone","twoToneColor","HeartTwoTone","description","billVehicle","thunk","billApi","billCar","console","log","success","rejectWithValue","getCurrentVehicle","finishCurrentRide","finishRide","getBillUserHistory","CurrentCar","currentCar","handleFinishRide","renderCurrentCar","payment","totalCost","endPlace","margin","method","HistoryRecors","renderHistory","bill","createdAt","xs","fontWeight","length","VehicleInfo","Payments","handleChangeForm","defaultValue","paymentsMethod","onChange","paymentId","useForm","miles","TripInformation","previousValues","form","initialValues2","getFieldsValue","handleChangeMiles","setFieldsValue","disabled","Step","mapButtonTitleByStep","Map","Order","params","useState","tripInfo","setTripInfo","current","setCurrent","handleChangeFormValues","steps","content","next","prev","isNextButtonDisabled","handleGoNextStep","item","stepContainer","React","cloneElement","buttonSection","vehicleTableColumns","dataIndex","key","VehicleForm","vehicleStatuses","vehicleBrands","currentVehicleImagePath","setVehicleImagePath","statusId","stauts","position","brandId","valuePropName","status","event","target","maxWidth","marginBottom","AddVehicleModal","carGeneration","carCountries","handleClose","range","AdminPanel","handleAddVehicle","expandedRowRender","record","adminTitle","vehiclesSection","shape","AppstoreAddOutlined","size","columns","dataSource","expandable","defaultState","RouterItem","allowedRoles","component","restProps","indexOf","to","exact","Navigation","App","vehiclesSlice","isLoading","extraReducers","builder","addCase","pending","fulfilled","authSlice","userDb","controlsSlice","rootReducer","combineReducers","reducer","store","configureStore","devTools","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0271ad23.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appLayout\":\"appLayout--2Fi_y\",\"mainSection\":\"mainSection--1QRhc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepContainer\":\"stepContainer--JDXT9\",\"buttonSection\":\"buttonSection--xYhDT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adminTitle\":\"adminTitle--1eaYj\",\"vehiclesSection\":\"vehiclesSection--3SB1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appHeader\":\"appHeader--1vzd9\",\"userIcon\":\"userIcon--2nqHm\"};","export const LS_IS_AUTH_KEY = 'isAuth';\n\nexport const LS_TOKEN_KEY = 'token';\n\n\nexport const BOOKING_STATUSES = {\n  START: 1,\n  FINISHED: 2,\n};\n","import axios from 'axios';\nimport { LS_TOKEN_KEY } from '../constants/common.const';\n\n\nexport class Api {\n  constructor() {\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_PREFIX,\n    })\n\n    this.api.interceptors.request.use((config) => {\n      const token =localStorage.getItem(LS_TOKEN_KEY);\n\n      if(token) {\n        config.headers['Authorization'] = `Bearer ${token}`;\n      }\n\n      return config;\n    });\n  }\n}","import { Api } from './api';\n\nclass VehiclesApi extends Api {\n  getVehiclesList() {\n    return this.api.get('vehicles');\n  }\n\n  getVehcileById(id) {\n    return this.api.get(`vehicles/${id}`);\n  }\n\n  updateVehicleById(id, dataToUpdate) {\n    return this.api.patch(`vehicles/${id}`, { ...dataToUpdate });\n  }\n\n  addVehicle(vehicle) {\n    return this.api.post('vehicles', vehicle);\n  }\n}\n\nexport default new VehiclesApi();","export const USER_ROLES = {\n  admin: 1,\n  customer: 2,\n}","import { Api } from './api';\nimport { USER_ROLES } from '../constants/userRoles.const';\n\nclass AuthApi extends Api {\n  login = ({ email, name, password }) => {\n    return this.api.post('auth/login', {\n      user: {\n        email,\n        password,\n      }\n    });\n  }\n\n  signUp = (values) => {\n    return this.api.post('auth/signup', {\n        ...values,\n        roleId: USER_ROLES.customer,\n    });\n  }\n\n  getCurrentUser = () => {\n    return this.api.get('auth/current');\n  }\n}\n\nexport default new AuthApi();","import { Api } from './api';\n\n\n\nclass ControlsApi extends Api {\n  getGenderList() {\n    return this.api.get('controls/user/gender');\n  }\n\n  getUserCountriesList() {\n    return this.api.get('controls/user/countries');\n  }\n\n  getVehicleStatuses() {\n    return this.api.get('controls/car/status');\n  }\n\n  getCarBrandsList() {\n    return this.api.get('controls/car/brands');\n  }\n\n  getCarGenerationList() {\n    return this.api.get('controls/car/generation');\n  }\n\n  getCarCountries() {\n    return this.api.get('controls/car/countries');\n  }\n\n  getBillStatuses() {\n    return this.api('controls/bill/statuses');\n  }\n\n  getBillPayments() {\n    return this.api('controls/bill/payments');\n  }\n}\n\nexport default new ControlsApi();","import { BOOKING_STATUSES } from '../constants/common.const';\nimport { Api } from './api';\n\n\nclass BillApi extends Api {\n  billCar(billValues) {\n    return this.api.post('/bills', { ...billValues, promoCode: null, bookingStatusId: BOOKING_STATUSES.START });\n  }\n\n  getYouCar(userId) {\n    return this.api.get(`bills/current/${userId}`);\n  }\n\n  finishRide(billId, vehicleId) {\n    return this.api.post(`bills/finish/${billId}/${vehicleId}`);\n  }\n\n  getBillUserHistory(userId) {\n    return this.api.get(`bills/history/${userId}`);\n  }\n}\n\nexport default new BillApi();\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { authApi } from '../api';\nimport { LS_IS_AUTH_KEY, LS_TOKEN_KEY } from '../constants/common.const';\n\n\n\nexport const loginAction = createAsyncThunk('@auth/login', async (submitData) => {\n  const { data } = await authApi.login(submitData);\n\n  localStorage.setItem(LS_TOKEN_KEY, data.token);\n  localStorage.setItem(LS_IS_AUTH_KEY, 'true');\n\n  return data;\n});\n\n\nexport const signUpAction = createAsyncThunk('@auth/signup', async(submitData) => {\n  const { data } = await authApi.signUp(submitData);\n\n  localStorage.setItem(LS_TOKEN_KEY, data.token);\n  localStorage.setItem(LS_IS_AUTH_KEY, 'true');\n\n  return data;\n});\n\n\nexport const getCurrentUserAction = createAsyncThunk('@auth/get-current-user', async () => {\n  const { data } = await authApi.getCurrentUser();\n\n  return data;\n});\n\n\nexport const logOut = createAsyncThunk('@auth/logout', () => {\n  localStorage.removeItem(LS_TOKEN_KEY);\n  localStorage.removeItem(LS_IS_AUTH_KEY);\n\n  return true;\n});","export const getAuthState = state => state.auth;\n","export const ROUTER_PATHS = {\n  index: '/',\n  userHistory: '/user/history',\n  yourCar: '/user/current',\n  order: '/order/:id',\n  admin: '/admin',\n};","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  activeModal: null,\n  modalParams: {},\n}\n\nexport const uiSlice = createSlice({\n  name: 'ui',\n  initialState,\n  reducers: {\n    showModal: (state, { payload }) => ({ ...state, activeModal: payload }),\n    hideModal: (state) => ({ ...state, activeModal: null }),\n    setModalParams: (state, { payload }) => ({ ...state, modalParams: payload }),\n    clearModalParams: (state) => ({ ...state, modalParams: null }),\n  },\n});\n","export const MODALS = {\n  auth: 'AUTH_MODAL',\n  signUp: 'SIGN_UP',\n  addVehicle: 'ADD_VEHICLE',\n};\n","export const getControlsState = state => state.controls;\n","export const getUiState = state => state.ui;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { controlsApi } from '../api';\n\n\nexport const getGenderControls = createAsyncThunk('@controls/get-gender-list', async () => {\n  const { data } = await controlsApi.getGenderList();\n\n  return data;\n});\n\nexport const getUserCountiesList = createAsyncThunk('@controls/get-user-countries-list', async () => {\n  const { data } = await controlsApi.getUserCountriesList();\n\n  return data;\n});\n\nexport const getVehiclesStatuses = createAsyncThunk('@controls/get-vehicles-status', async () => {\n  const { data } = await controlsApi.getVehicleStatuses();\n\n  return data;\n})\n\nexport const getVehicleBrandList = createAsyncThunk('@controls/get-vehicle-statuses', async () => {\n  const { data } = await controlsApi.getCarBrandsList();\n\n  return data;\n})\n\nexport const getVehicleGenerationList = createAsyncThunk('@controls/get-vehicle-generation', async () => {\n  const { data } = await controlsApi.getCarGenerationList();\n\n  return data;\n})\n\nexport const getVehicleCountryList = createAsyncThunk('@controls/get-vehicle-countries', async () => {\n  const { data } = await controlsApi.getCarCountries();\n\n  return data;\n})\n\nexport const getBillPayments = createAsyncThunk('@controls/get-bill-payments', async () => {\n  const { data } = await controlsApi.getBillPayments();\n\n  return data;\n})\n","import React, { useCallback, useEffect } from 'react';\nimport { Modal, Form, Button, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { message  } from 'antd';\nimport { getControlsState } from '../../selectors/controls.selector';\nimport { getUiState } from '../../selectors/ui.selectors';\nimport { uiSlice } from '../../reducers/ui.reducer';\nimport { signUpAction } from '../../actions/authActions';\nimport { MODALS } from '../../constants/modals.const';\nimport { getGenderControls, getUserCountiesList } from '../../actions/controlsActions';\n\nconst { Option } = Select;\n\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\n\nexport const SignUpModal = () => {\n  const dispatch = useDispatch();\n  const { activeModal }  = useSelector(getUiState);\n  const { genders, userCountries }  = useSelector(getControlsState);\n  const isModalVisible = activeModal === MODALS.signUp;\n\n\n  useEffect(() => {\n    if(isModalVisible) {\n      dispatch(getGenderControls());\n      dispatch(getUserCountiesList());\n    }\n  }, [dispatch, isModalVisible]);\n\n  const handleHide = useCallback(() => {\n    dispatch(uiSlice.actions.hideModal());\n  }, [dispatch]);\n\n  const handleSubmit = useCallback(async (values)=> {\n    const result = await dispatch(signUpAction(values));\n\n    if(result?.error) {\n      message.error('Invalid credential');\n      return;\n    }\n\n    handleHide();\n  }, [dispatch, handleHide]);\n\n  return  <Modal title=\"SignUp\" visible={isModalVisible} onOk={handleSubmit} onCancel={handleHide} footer={[\n    <Button key=\"back\" onClick={handleHide}>\n      Cancel\n  </Button>,\n  ]}>\n  <Form\n      {...layout}\n      name=\"basic\"\n      initialValues={{ remember: true }}\n      onFinish={handleSubmit}\n    >\n      <Form.Item\n        label=\"E-mail\"\n        name=\"email\"\n        rules={[{ required: true, message: 'Please input your email!' }]}\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item\n        label=\"Name\"\n        name=\"name\"\n        rules={[{ required: true, message: 'Please input your name!' }]}\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        rules={[{ required: true, message: 'Please input your password!' }]}\n      >\n        <Input.Password />\n      </Form.Item>\n      <Form.Item name=\"genderId\" label=\"Gender\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"gender\"\n        >\n          {genders.map(({ name, id }) => <Option value={id} key={name}>{name}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"countryId\" label=\"Country\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Country\"\n        >\n          {userCountries.map(({ country, id }) => <Option value={id} key={country}>{country}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n\n</Modal>\n}\n","import { LS_IS_AUTH_KEY } from '../constants/common.const';\n\nexport const getAuthStateFromLS = () => localStorage.getItem(LS_IS_AUTH_KEY);\n\n\nexport const isCustomer = role => role === 'customer';\n\nexport const isAdmin = role => role === 'admin';\n\nexport const getDateFromString = date => {\n  const [ dateFromString ] = date.match(/\\d{4}-\\d{2}-\\d{2}/gi);;\n\n  return dateFromString.replaceAll('-', '.');\n\n}\n","import React, { useCallback } from 'react';\nimport {Typography, Layout, Avatar, Dropdown, Menu } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport { UserOutlined } from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAuthState } from '../../selectors/auth.selector';\nimport styles from './styles.module.less';\nimport { ROUTER_PATHS } from '../../constants/routerPaths.const';\nimport { uiSlice } from '../../reducers/ui.reducer';\nimport { MODALS } from '../../constants/modals.const';\nimport { SignUpModal } from '../SignUpModal/SignUpModal';\nimport { isAdmin } from '../../utils/utils';\nimport { logOut } from '../../actions/authActions';\n\nconst { Header: HeaderAntd } = Layout;\n\n\nexport const Header = () => {\n  const { isAuthorized, user  } = useSelector(getAuthState);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleMenuClick = useCallback(() => {}, []);\n\n  const handleLogOut = useCallback(() => {\n    dispatch(logOut());\n    history.push('/');\n  }, [dispatch, history]);\n\n  const handleNavigate = useCallback((path) => () => {\n    history.push(path);\n  }, [history]);\n\n  const handleSignUp = useCallback( () => {\n    dispatch(uiSlice.actions.showModal(MODALS.signUp))\n  }, [dispatch]);\n\n  const handleSignIn = useCallback( () => {\n    dispatch(uiSlice.actions.showModal(MODALS.auth, { withoutRedirect: true }));\n  }, [dispatch]);\n\n  const isAdminRole  = isAdmin(user?.role.name );\n\n  const menu = (\n    <Menu onClick={handleMenuClick}>\n      {\n        isAdminRole && <Menu.Item key=\"4\" onClick={handleNavigate(ROUTER_PATHS.admin)}>\n        Admin Panel\n       </Menu.Item>\n      }\n      {!isAdminRole && <Menu.Item key=\"1\" onClick={handleNavigate(ROUTER_PATHS.yourCar)}>\n        Your car\n      </Menu.Item>}\n      {!isAdminRole && <Menu.Item key=\"2\" onClick={handleNavigate(ROUTER_PATHS.userHistory)}>\n        History\n      </Menu.Item>}\n      <Menu.Item key=\"3\" onClick={handleLogOut}>\n        Log out\n      </Menu.Item>\n    </Menu>\n  );\n\n  return <HeaderAntd className={styles.appHeader}>\n  <div/>\n  <Typography.Title level={2} onClick={handleNavigate(ROUTER_PATHS.index)}>CarSharing</Typography.Title>\n  {isAuthorized ?  <Dropdown overlay={menu}><Avatar icon={<UserOutlined />}/></Dropdown>: null}\n  {!isAuthorized && <div style={{ display: 'flex'}}>\n    <div onClick={handleSignIn} style={{ marginRight: '20px'}}>Sign In</div>\n    <div onClick={handleSignUp}>Sign Up</div>\n  </div>}\n  <SignUpModal/>\n</HeaderAntd>\n};","import React  from 'react';\nimport { Layout } from 'antd';\nimport { Header } from '../Header/Header';\nimport styles from './styles.module.less';\n\n\nexport const MainLayout = ({ children }) => {\n  return <Layout className={styles.appLayout}>\n  <Header />\n  <Layout className={styles.mainSection}>\n    {children}\n  </Layout>\n</Layout>;\n}","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { vehiclesApi } from '../api';\n\n\n\nexport const getVehiclesList = createAsyncThunk('@vehicles/get-list', async () => {\n  const { data } = await vehiclesApi.getVehiclesList();\n\n  return data;\n});\n\nexport const getVehicleById = createAsyncThunk('@vehicles/get-vehicle-by-id', async (id) => {\n  const { data } = await vehiclesApi.getVehcileById(id);\n\n  return data;\n});\n\nexport const updateVehicle = createAsyncThunk('@vehicles/update-vehicle-by-id', async ({ id, ...formValues}, thunkAPI) => {\n  await vehiclesApi.updateVehicleById(id, formValues)\n\n  thunkAPI.dispatch(getVehiclesList());\n});\n\n\nexport const addVehicle = createAsyncThunk('@vehicles/update-vehicle-by-id', async (vehicle, thunkAPI) => {\n  await vehiclesApi.addVehicle(vehicle);\n\n  thunkAPI.dispatch(getVehiclesList());\n});\n\n\nexport const getCurrentUserCar = createAsyncThunk('@vehicles/get-current-car', async (userId) => {\n\n  const { data } = await vehiclesApi.getYouCar(userId);\n\n  return data;\n});","export const getVegiclesState = state => state.vehicles;\n","import React, { useCallback } from 'react';\nimport { Modal, Form, Button, Input } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { message  } from 'antd';\nimport { getUiState } from '../../selectors/ui.selectors';\nimport { uiSlice } from '../../reducers/ui.reducer';\nimport { loginAction } from '../../actions/authActions';\nimport { MODALS } from '../../constants/modals.const';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\n\nexport const AuthModal = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { activeModal, modalParams }  = useSelector(getUiState);\n\n  const handleSubmit = useCallback(async (values)=> {\n    const result = await dispatch(loginAction(values));\n\n    if(result?.error) {\n      message.error('Invalid credential');\n      return;\n    }\n\n    if(!modalParams?.withoutRedirect) {\n      history.push(`order/${modalParams?.id}`);\n    }\n\n  }, [dispatch, history, modalParams]);\n\n  const handleHide = useCallback(() => {\n    dispatch(uiSlice.actions.hideModal());\n  }, [dispatch]);\n\n  return  <Modal title=\"Login\" visible={activeModal === MODALS.auth} onOk={handleSubmit} onCancel={handleHide} footer={[\n    <Button key=\"back\" onClick={handleHide}>\n      Cancel\n  </Button>,\n  ]}>\n  <Form\n      {...layout}\n      name=\"basic\"\n      initialValues={{ remember: true }}\n      onFinish={handleSubmit}\n    >\n      <Form.Item\n        label=\"E-mail\"\n        name=\"email\"\n        rules={[{ required: true, message: 'Please input your email!' }]}\n      >\n        <Input />\n      </Form.Item>\n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        rules={[{ required: true, message: 'Please input your password!' }]}\n      >\n        <Input.Password />\n      </Form.Item>\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n\n</Modal>\n}","import React, { useCallback, useEffect } from 'react';\nimport { Card, Row, Col } from 'antd';\nimport { HeartTwoTone, CheckCircleTwoTone } from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getVehiclesList } from '../../actions/vehiclesActions';\nimport { getVegiclesState } from '../../selectors/vehicles.selector';\nimport { getAuthState } from '../../selectors/auth.selector';\nimport { useHistory } from 'react-router';\nimport { uiSlice } from '../../reducers/ui.reducer';\nimport { MODALS } from '../../constants/modals.const';\nimport { AuthModal } from '../../components/AuthModal/AuthModal';\n\nconst { Meta } = Card;\n\nexport const VehiclesList = () => {\n  const history = useHistory();\n  const { isAuthorized } = useSelector(getAuthState);\n  const { vehicles } = useSelector(getVegiclesState);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getVehiclesList());\n  }, [dispatch]) \n\n\n  const handleOrderCar = useCallback((carId) => () => {\n    if(isAuthorized) {\n      history.push(`order/${carId}`);\n      return;\n    }\n\n    dispatch(uiSlice.actions.showModal(MODALS.auth));\n    dispatch(uiSlice.actions.setModalParams({ id: carId }));\n  },[isAuthorized, history, dispatch]);\n\n  return <Row gutter={[16, 16]}>\n    <AuthModal />\n    {vehicles.map( ({ id, image, name, isFree, price, brand: { name: brandName } }) => (\n    <Col span={6} key={id}>\n  <Card\n    style={{ width: 300, height: 300 }}\n    cover={\n      <img\n        alt={name}\n        src={image}\n      />\n    }\n    actions={[\n      isFree && <CheckCircleTwoTone twoToneColor=\"#52c41a\" />,\n      <div>{price}$ per hour</div>,\n      <HeartTwoTone twoToneColor=\"#eb2f96\" onClick={handleOrderCar(id)} />,\n    ]}\n  >\n    <Meta title={brandName} description={name} />\n  </Card>\n  </Col>))}\n  </Row>;\n};","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { message } from 'antd';\nimport { billApi } from '../api';\n\n\n\nexport const billVehicle = createAsyncThunk('@bills/bill-vehicle', async (billValues, thunk) => {\n  try {\n    const { data } = await billApi.billCar(billValues);\n\n    console.log(data);\n  \n    message.success('Processing complete!');\n  \n    return data;\n  } catch(error) {\n    return thunk.rejectWithValue(error);\n  }\n});\n\nexport const getCurrentVehicle = createAsyncThunk('@bills/get-current-car', async (userId) => {\n  const { data } = await billApi.getYouCar(userId);\n\n  return data;\n});\n\nexport const finishCurrentRide = createAsyncThunk('@bills/finish-current-ride', async ({ billId, vehicleId }) => {\n  await billApi.finishRide(billId, vehicleId);\n});\n\n\nexport const getBillUserHistory = createAsyncThunk('@bills/user-history', async(userId) => {\n  const { data } = await billApi.getBillUserHistory(userId);\n\n  return data;\n});\n","import React, { useCallback, useEffect } from 'react';\nimport { Card, Typography } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCurrentVehicle, finishCurrentRide } from '../../actions/billActions';\nimport { getAuthState } from '../../selectors/auth.selector';\nimport { getVegiclesState } from '../../selectors/vehicles.selector';\n\n\n\nconst { Meta } = Card;\n\nexport const CurrentCar = () => {\n  const dispatch = useDispatch();\n  const { user } = useSelector(getAuthState);\n  const { currentCar } = useSelector(getVegiclesState);\n\n\n  useEffect(() => {\n    if(user?.id) {\n      dispatch(getCurrentVehicle(user.id));\n    }\n  }, [user?.id, dispatch]);\n\n  const handleFinishRide = useCallback(() => {\n    dispatch(finishCurrentRide({\n      billId: currentCar?.id,\n      vehicleId: currentCar?.vehicleId,\n    }));\n  }, [dispatch, currentCar]);\n\n  const renderCurrentCar = useCallback(() => {\n    const { vehicle, payment, totalCost, endPlace } = currentCar;\n\n    return <Card\n    style={{ width: 300, margin: '0 auto' }}\n    cover={\n      <img\n        alt={vehicle.name}\n        src={vehicle.image}\n      />\n    }\n    actions={[\n      <div>Cost: {totalCost}$</div>,\n      null,\n      <div onClick={handleFinishRide}>Finish Ride</div>,\n    ]}\n  >\n    <Meta title={vehicle.name} description={<>\n    <p>End place: {endPlace}</p>\n    <p>Paymentys: {payment.method}</p>\n    </>} />\n  </Card>\n  }, [currentCar, handleFinishRide]);\n\n  return currentCar ? \n  renderCurrentCar() : \n  <Typography.Title style={{ margin: '0 auto'}} level={4}>\n    No Car\n  </Typography.Title>;\n}\n","import { Typography, Card, Row, Col } from 'antd';\nimport React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getBillUserHistory } from '../../actions/billActions';\nimport { getAuthState } from '../../selectors/auth.selector';\nimport { getVegiclesState } from '../../selectors/vehicles.selector';\nimport { getDateFromString } from '../../utils/utils';\n\n\nconst { Meta } = Card;\n\nexport const HistoryRecors = () => {\n  const dispatch = useDispatch();\n  const { user } = useSelector(getAuthState);\n  const { history } = useSelector(getVegiclesState);\n\n\n  const renderHistory = useCallback(() => {\n    return history.map( bill => {\n      const { vehicle, payment, totalCost, endPlace, createdAt } = bill;\n\n      return <Col xs={4}><Card\n      style={{ width: 300, margin: '0 auto' }}\n      cover={\n        <img\n          alt={vehicle.name}\n          src={vehicle.image}\n        />\n      }\n      actions={[\n        <div>Cost: {totalCost}$</div>,\n      ]}\n    >\n      <Meta title={vehicle.name} description={<>\n      <p>End place: {endPlace}</p>\n      <p>Paymentys: {payment.method}</p>\n      <p style={{ fontWeight: 'bold'}}>{getDateFromString(createdAt)}</p>\n      </>} />\n    </Card></Col>\n    })\n  }, [history]);\n\n  useEffect(() => {\n    if(user?.id) {\n      dispatch(getBillUserHistory(user.id));\n    }\n  }, [dispatch, user]);\n\n\n  return history.length ? \n  <Row gutter={[16,16]}>\n  {renderHistory()}\n  </Row> : \n  <Typography.Title level={2}>No History</Typography.Title>;\n}\n","import React from 'react';\nimport { Card } from 'antd';\n\nconst { Meta } = Card; \n\nexport const VehicleInfo = ({ vehicle }) => {\n  return vehicle ? <Card\n    style={{ width: 300 }}\n    cover={\n      <img\n        alt={vehicle.name}\n        src={vehicle.image}\n      />\n    }\n    actions={[\n      null,\n      <div>{vehicle.price}$ per hour</div>,\n      null,\n    ]}\n  >\n    <Meta title={vehicle.brand.name} description={vehicle.name} />\n  </Card> : null;\n}\n","import React from 'react';\nimport { Select } from 'antd';\nimport { useSelector } from 'react-redux';\nimport { getControlsState } from '../../selectors/controls.selector';\n\nconst { Option } = Select;\n\nexport const Payments = ({ handleChangeForm, defaultValue }) => {\n  const { paymentsMethod  } = useSelector(getControlsState);\n\n  return <Select defaultValue={defaultValue} onChange={(value) => handleChangeForm({ paymentId: value })}>\n    {paymentsMethod.map(({ id, method }) => <Option value={id} key={id}>{method}</Option>)}\n    </Select>;\n}\n","import React, { useCallback } from 'react';\nimport { Form, Input, InputNumber  } from 'antd';\n\n\nconst { useForm } = Form;\n\nconst initialValues =  {\n  miles: 0,\n  totalCost: 0,\n}\n\n\nexport const TripInformation = ({ handleSubmit, previousValues = {}, vehicle }) => {\n  const [form] = useForm();\n\n  const initialValues2 = {\n    ...initialValues,\n    ...previousValues,\n  }\n\n  const handleChangeForm = useCallback(() => {\n    handleSubmit(form.getFieldsValue());\n  }, [handleSubmit, form]);\n\n  const handleChangeMiles = useCallback((value) => {\n    form.setFieldsValue({\n      totalCost: value * vehicle?.price,\n    });\n    handleChangeForm();\n  }, [form, handleChangeForm, vehicle]);\n\n  // bookingStatusId, paymentId, promoCodeId = null, userId, vehicleId\n  return <Form form={form} onFinish={handleSubmit} initialValues={initialValues2}>\n    <Form.Item name=\"endPlace\" label=\"End place\" rules={[{ required: true }]}>\n      <Input onChange={handleChangeForm} />\n    </Form.Item>\n    <Form.Item name=\"totalCost\" label=\"Total Cost\">\n      <Input disabled />\n    </Form.Item>\n    <Form.Item name=\"miles\" label=\"Miles\" rules={[{ required: true }]}>\n      <InputNumber onChange={handleChangeMiles} />\n    </Form.Item>\n  </Form>;\n}\n","import React, { useEffect, useState, useCallback  } from 'react';\nimport { Steps, Button } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getVehicleById } from '../../actions/vehiclesActions';\nimport { getBillPayments } from '../../actions/controlsActions';\nimport { getVegiclesState } from '../../selectors/vehicles.selector';\nimport { getAuthState } from '../../selectors/auth.selector';\nimport { VehicleInfo } from './VehicleInfo';\nimport { Payments } from './Payments';\nimport { TripInformation } from './TripInformation';\n\nimport styles from './styles.module.less';\nimport { billVehicle } from '../../actions/billActions';\nimport { useHistory } from 'react-router';\n\nconst { Step } = Steps;\n\nconst mapButtonTitleByStep = new Map([\n  [0, 'Confirm'],\n  [1, 'Next'],\n  [2, 'Submit'],\n])\n\nexport const Order = ({ match: { params: { id }}}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { vehicle } = useSelector(getVegiclesState);\n  const { user } = useSelector(getAuthState);\n\n  const [tripInfo, setTripInfo] = useState({});\n  const [current, setCurrent] = useState(0);\n\n  const handleChangeFormValues = useCallback((values) => {\n    setTripInfo({\n      ...tripInfo,\n      ...values,\n    });\n  }, [tripInfo, setTripInfo]);\n\n  const steps = [\n  {\n    title: 'Confirm Vehicle',\n    content: <VehicleInfo vehicle={vehicle} />,\n  },\n  {\n    title: 'Trip Info',\n    content: <TripInformation handleSubmit={(values) => {\n      setTripInfo(values);\n    }} previousValues={tripInfo} vehicle={vehicle} />,\n  },\n  {\n    title: 'Payments',\n    content: <Payments handleChangeForm={handleChangeFormValues} defaultValue={tripInfo?.paymentId} />,\n  },\n];\n\n  const next = useCallback(() => {\n    setCurrent(current + 1);\n  }, [current]);\n\n  const prev = useCallback(() => {\n    setCurrent(current - 1);\n  }, [current]);\n\n\n  useEffect(() => {\n    dispatch(getVehicleById(id));\n    dispatch(getBillPayments());\n  }, [dispatch, id]);\n\n  const isNextButtonDisabled = current === 1 && !!!tripInfo?.endPlace;\n\n\n  const handleGoNextStep = current === steps.length - 1 ? () => {\n    dispatch(billVehicle({\n      ...tripInfo,\n      vehicleId: +id,\n      userId: user?.id,\n    }));\n\n    history.push('/');\n  } : next;\n\n  return <><Steps current={current}>\n        {steps.map(item => (\n          <Step key={item.title} title={item.title} />\n        ))}\n      </Steps>\n      <div className={styles.stepContainer}>{React.cloneElement(steps[current].content, { next, prev })}</div>\n      <div className={styles.buttonSection}>\n          <Button type=\"primary\" onClick={handleGoNextStep} disabled={isNextButtonDisabled}>\n            {mapButtonTitleByStep.get(current)}\n          </Button>\n        {current > 0 && (\n          <Button style={{ margin: '0 8px' }} onClick={() => prev()}>\n            Previous\n          </Button>\n        )}\n      </div>\n    </>;\n};","export const vehicleTableColumns = [\n  { title: 'Brand', dataIndex: ['brand', 'name'], key: 'brand' },\n  { title: 'Name', dataIndex: 'name', key: 'name' },\n  { title: 'Current place', dataIndex: 'position', key: 'position' },\n  { title: 'Price', dataIndex: 'price', key: 'price' },\n  { title: 'Free', dataIndex: 'isFree', key: 'free' },\n  { title: 'Status', dataIndex: ['stauts', 'status'], key: 'status' },\n]","import React, { useCallback, useEffect, useState } from 'react';\nimport { Form, Input, Button, Select, Checkbox } from 'antd';\nimport { useDispatch } from 'react-redux';\nimport { updateVehicle } from '../../actions/vehiclesActions';\n\nconst { useForm } = Form;\nconst { Option } = Select;\n\n\nexport const VehicleForm = ({ vehicle, vehicleStatuses, vehicleBrands }) => {\n  const [form] = useForm();\n  const [currentVehicleImagePath, setVehicleImagePath] = useState('');\n  const dispatch = useDispatch();\n\n\n  const handleSubmit = useCallback((formValues) => {\n    console.log(formValues);\n\n    dispatch(updateVehicle({\n      id: vehicle.id,\n      ...formValues,\n    }))\n  }, [dispatch, vehicle.id]);\n\n  useEffect(() => {\n    form.setFieldsValue({\n      name: vehicle?.name,\n      statusId: vehicle?.stauts.id,\n      position: vehicle?.position,\n      isFree: vehicle?.isFree,\n      price: vehicle?.price,\n      brandId: vehicle?.brandId,\n      image: vehicle?.image,\n    });\n\n    setVehicleImagePath(vehicle?.image);\n  }, [vehicle, form]) ;\n\n  return (<Form form={form} onFinish={handleSubmit}>\n    <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item name=\"price\" label=\"Price\" rules={[{ required: true }]}>\n        <Input type=\"number\" />\n      </Form.Item>\n      <Form.Item name=\"position\" label=\"Place\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item name=\"isFree\" label=\"Free\" valuePropName=\"checked\">\n        <Checkbox />\n      </Form.Item>\n      <Form.Item name=\"brandId\" label=\"Brand\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Brand\"\n        >\n          {vehicleBrands.map(({ name, id }) => <Option value={id} key={name}>{name}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"statusId\" label=\"Status\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Status\"\n        >\n          {vehicleStatuses.map(({ status, id }) => <Option value={id} key={status}>{status}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"image\" label=\"Vehicle Preview\" rules={[{ required: true }]}>\n        <Input onChange={(event) => {\n          setVehicleImagePath(event.target.value);\n        }} />\n      </Form.Item>\n      <img src={currentVehicleImagePath} alt={vehicle.name} style={{ width: '100%', height: 'auto', maxWidth: '300px', marginBottom: '20px' }}/>\n      <Form.Item>\n      <Button type=\"primary\" htmlType=\"submit\">\n          Save\n        </Button>\n      </Form.Item>\n  </Form>);\n};","import React, { useCallback } from 'react';\nimport { Form, Input, Button, Select, Checkbox, Modal } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { MODALS } from '../../../constants/modals.const';\nimport { uiSlice } from '../../../reducers/ui.reducer';\nimport { getControlsState } from '../../../selectors/controls.selector';\nimport { getUiState } from '../../../selectors/ui.selectors';\nimport { addVehicle } from '../../../actions/vehiclesActions';\n\n\nconst { useForm }  = Form;\nconst { Option } = Select;\n\n\nexport const AddVehicleModal = () => {\n  const dispatch = useDispatch();\n  const [form] = useForm();\n  const { activeModal }  = useSelector(getUiState);\n  const { vehicleStatuses, vehicleBrands, carGeneration, carCountries } = useSelector(getControlsState);\n\n  const isModalVisible = activeModal === MODALS.addVehicle;\n\n  const handleClose = useCallback(() => {\n    dispatch(uiSlice.hideModal());\n  }, [dispatch])\n\n\n  const handleSubmit = useCallback((vehicle) => {\n      dispatch(addVehicle(vehicle));\n      handleClose();\n  }, [dispatch, handleClose]);\n\n  return  (<Modal title=\"Add vehicle\" visible={isModalVisible} onOk={handleSubmit} onCancel={handleClose} footer={[\n    <Button key=\"back\" onClick={handleClose}>\n      Cancel\n  </Button>,\n  ]}>\n    <Form form={form} onFinish={handleSubmit}>\n    <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item name=\"image\" label=\"Image URL\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item name=\"price\" label=\"Price\" rules={[{ required: true }]}>\n        <Input type=\"number\" />\n      </Form.Item>\n      <Form.Item name=\"odometer\" label=\"Odometer\" rules={[{ required: true }]}>\n        <Input type=\"number\" />\n      </Form.Item>\n      <Form.Item name=\"position\" label=\"Place\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item name=\"isFree\" label=\"Free\" valuePropName=\"checked\">\n        <Checkbox />\n      </Form.Item>\n      <Form.Item name=\"brandId\" label=\"Brand\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Brand\"\n        >\n          {vehicleBrands.map(({ name, id }) => <Option value={id} key={name}>{name}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"statusId\" label=\"Status\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Status\"\n        >\n          {vehicleStatuses.map(({ status, id }) => <Option value={id} key={status}>{status}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"carGenerationId\" label=\"Car Generation\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Generation\"\n        >\n          {carGeneration.map(({ range, id }) => <Option value={id} key={range}>{range}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"vehicleCountriesId\" label=\"Car Country\" rules={[{ required: true }]}>\n        <Select\n          placeholder=\"Country\"\n        >\n          {carCountries.map(({ country, id }) => <Option value={id} key={country}>{country}</Option>)}\n        </Select>\n      </Form.Item>\n      <Form.Item>\n      <Button type=\"primary\" htmlType=\"submit\">\n          Save\n        </Button>\n      </Form.Item>\n  </Form>\n  </Modal>);\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { Typography, Table, Button } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getVehiclesList } from '../../actions/vehiclesActions';\nimport { getVegiclesState } from '../../selectors/vehicles.selector';\nimport { vehicleTableColumns } from './helper';\nimport { VehicleForm } from './VehicleForm';\nimport { getControlsState } from '../../selectors/controls.selector';\nimport { getVehicleBrandList, getVehicleCountryList, getVehicleGenerationList, getVehiclesStatuses } from '../../actions/controlsActions';\nimport { AppstoreAddOutlined } from '@ant-design/icons';\nimport styles from './styles.module.less';\nimport { uiSlice } from '../../reducers/ui.reducer';\nimport { AddVehicleModal } from './AddVehicleModal';\nimport { MODALS } from '../../constants/modals.const';\n\nexport const AdminPanel = () => {\n  const dispatch = useDispatch();\n  const { vehicles } = useSelector(getVegiclesState);\n\n  const { vehicleStatuses, vehicleBrands } = useSelector(getControlsState);\n\n  useEffect(() => {\n    dispatch(getVehiclesList());\n    dispatch(getVehiclesStatuses());\n    dispatch(getVehicleBrandList());\n    dispatch(getVehicleGenerationList());\n    dispatch(getVehicleCountryList());\n  }, [dispatch]);\n\n\n  const handleAddVehicle = useCallback(() => {\n      dispatch(uiSlice.actions.showModal(MODALS.addVehicle));\n  }, [dispatch]);\n\n\n  const expandedRowRender = useCallback((record) => {\n    return <VehicleForm vehicle={record} vehicleStatuses={vehicleStatuses} vehicleBrands={vehicleBrands}/>;\n  }, [vehicleStatuses, vehicleBrands]);\n\n  return <div>\n    <Typography.Title className={styles.adminTitle} >Admin Panel</Typography.Title>\n    <div className={styles.vehiclesSection}>\n      <Typography.Title>Vehicles</Typography.Title>\n      <Button type=\"primary\" shape=\"circle\" icon={<AppstoreAddOutlined />} size=\"large\" onClick={handleAddVehicle} />\n    </div>\n    <Table columns={vehicleTableColumns} dataSource={vehicles} expandable={{ expandedRowRender }}/>\n    <AddVehicleModal />\n  </div>;\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { ROUTER_PATHS } from '../constants/routerPaths.const';\nimport { getAuthState } from '../selectors/auth.selector';\n\n\n\nconst defaultState = { role: { name: '' }};\n\nexport const RouterItem = ({ children, allowedRoles, component, path, ...restProps }) => {\n  const { user } = useSelector(getAuthState);\n\n  const { role: { name }} = user || defaultState;\n\n  if(allowedRoles && allowedRoles.indexOf(name) === -1) {\n    return <Redirect to={ROUTER_PATHS.index}/>\n  }\n\n  return <Route path={path} component={component} exact {...restProps}/>;\n}","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport { MainLayout } from '../components/MainLayout/MainLayout';\nimport { ROUTER_PATHS } from '../constants/routerPaths.const';\n\nimport { VehiclesList, HistoryRecors, CurrentCar, Order } from '../pages';\nimport { AdminPanel } from '../pages/AdminPanel/AdminPanel';\n\nimport { RouterItem } from './RouterItem';\n\n\nexport const Navigation = () => {\n  return (<Router>\n           <Switch>\n             <MainLayout>\n              <Route path={ROUTER_PATHS.index} component={VehiclesList} exact/>\n              <RouterItem path={ROUTER_PATHS.yourCar} component={CurrentCar} exact />\n              <Route path={ROUTER_PATHS.userHistory} component={HistoryRecors} exact/>\n              <Route path={ROUTER_PATHS.order} component={Order} exact/>\n              <RouterItem path={ROUTER_PATHS.admin} component={AdminPanel} exact allowedRoles={[\"admin\"]} />\n            </MainLayout>\n        </Switch>\n        </Router>\n  );\n}","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getCurrentUserAction } from './actions/authActions';\n\nimport { Navigation } from './navigation/Navigation';\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCurrentUserAction());\n  }, [dispatch]);\n\n  return <Navigation />\n}\n\nexport default App;\n","import { createSlice } from '@reduxjs/toolkit'\nimport { getVehiclesList, getVehicleById  } from '../actions/vehiclesActions';\nimport { getCurrentVehicle, finishCurrentRide, getBillUserHistory } from '../actions/billActions';\n\nconst initialState = {\n  isLoading: false,\n  vehicles: [],\n  vehicle: null,\n  currentCar: null,\n  history: [],\n}\n\nexport const vehiclesSlice = createSlice({\n  name: 'vehicles',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n      .addCase(getVehiclesList.pending, (state) => ({\n        ...state,\n        isLoading: true,\n      }))\n      .addCase(getVehiclesList.fulfilled, (state, { payload }) => ({\n        ...state,\n        isLoading: false,\n        vehicles: payload,\n      }))\n      .addCase(getVehicleById.pending, (state) => ({\n        ...state,\n        isLoading: true,\n      }))\n      .addCase(getVehicleById.fulfilled, (state, { payload }) => ({\n        ...state,\n        isLoading: false,\n        vehicle: payload,\n      }))\n      .addCase(getCurrentVehicle.fulfilled, (state, { payload }) => ({\n        ...state,\n        currentCar: payload,\n      }))\n      .addCase(finishCurrentRide.fulfilled, (state) => ({\n        ...state,\n        currentCar: null,\n      }))\n      .addCase(getBillUserHistory.fulfilled, (state, { payload }) => ({\n        ...state,\n        history: payload,\n      }))\n    }\n  });\n  ","import { createSlice } from '@reduxjs/toolkit'\nimport { loginAction, signUpAction, getCurrentUserAction, logOut } from '../actions/authActions';\nimport { getAuthStateFromLS } from '../utils/utils';\n\nconst initialState = {\n  isAuthorized: !!getAuthStateFromLS(),\n  user: null,\n  token: null,\n}\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n    .addCase(loginAction.fulfilled, (state, { payload: { userDb, token } }) => ({ ...state, user: userDb, token, isAuthorized: true  }))\n    .addCase(signUpAction.fulfilled, (state, { payload: { user, token } }) => ({ ...state, user, token, isAuthorized: true  }))\n    .addCase(getCurrentUserAction.fulfilled, (state, { payload }) => ({ ...state, user: payload, isAuthorized: true  }))\n    .addCase(logOut.pending, () => initialState)\n  }\n});\n","import { createSlice } from '@reduxjs/toolkit'\nimport { \n  getGenderControls,\n  getUserCountiesList, \n  getVehiclesStatuses,\n  getVehicleBrandList, \n  getVehicleGenerationList,\n  getVehicleCountryList,\n  getBillPayments,\n} from '../actions/controlsActions';\n\nconst initialState = {\n  genders: [],\n  userCountries: [],\n  vehicleStatuses: [],\n  vehicleBrands: [],\n  carGeneration: [],\n  carCountries: [],\n  paymentsMethod: [],\n}\n\nexport const controlsSlice = createSlice({\n  name: 'controls',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n    .addCase(getGenderControls.fulfilled, (state, { payload }) => ({ ...state, genders: payload }))\n    .addCase(getUserCountiesList.fulfilled, (state, { payload }) => ({ ...state, userCountries: payload }))\n    .addCase(getVehiclesStatuses.fulfilled, (state, { payload }) => ({ ...state, vehicleStatuses: payload }))\n    .addCase(getVehicleBrandList.fulfilled, (state, { payload }) => ({ ...state, vehicleBrands: payload }))\n    .addCase(getVehicleGenerationList.fulfilled, (state, { payload }) => ({ ...state, carGeneration: payload }))\n    .addCase(getVehicleCountryList.fulfilled, (state, { payload }) => ({ ...state, carCountries: payload }))\n    .addCase(getBillPayments.fulfilled, (state, { payload }) => ({ ...state, paymentsMethod: payload }))\n    }\n});\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { vehiclesSlice } from './vehicles.reducer';\nimport { authSlice } from './auth.reducer';\nimport { uiSlice } from './ui.reducer';\nimport { controlsSlice } from './controls.reducer';\n\n\nexport const rootReducer =  combineReducers({\n  vehicles: vehiclesSlice.reducer,\n  auth: authSlice.reducer,\n  ui: uiSlice.reducer,\n  controls: controlsSlice.reducer,\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport { rootReducer } from '../reducers';\n\nexport const store = configureStore({\n  devTools: true,\n  reducer: rootReducer,\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}